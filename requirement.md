```markdown
# 基于 GitHub 目录结构构建动态文章展示网站方案

---

## 一、背景和需求

你希望基于 GitHub 仓库 https://github.com/dubuqingfeng/yarb-web3/tree/main/archive 中的目录结构：

- 将一级文件夹（如 `2022`、`2023`、`2024`、`2025`）作为网站的顶部导航按钮
- 点击对应文件夹按钮后，展示该文件夹中所有文章列表
- 点击文章后，展示文章的具体内容

目的是实现一个动态的内容展示网站，便于查看不同年份文件夹下的文章。

---

## 二、GitHub 仓库数据爬取方案

### 方案1：使用 GitHub API（推荐）

1. 获取一级目录内容列表：
   请求
   ```
   GET https://api.github.com/repos/dubuqingfeng/yarb-web3/contents/archive?ref=main
   ```
   返回 JSON 中包含所有一级文件夹及文件信息。

2. 选择文件夹后，获取该文件夹内的文件列表：
   ```
   GET https://api.github.com/repos/dubuqingfeng/yarb-web3/contents/archive/{folder_name}?ref=main
   ```

3. 文章内容获取：
   JSON 中每个文件有 `download_url`，直接 GET 即可获得文件内容。

4. 可选：使用 GitHub Token 增加请求速率。

### 方案2：下载整个仓库本地解析

```bash
git clone https://github.com/dubuqingfeng/yarb-web3.git
cd yarb-web3/archive
```
本地读取指定目录文件。

### 方案3：网页爬取（不推荐）

解析 GitHub 网页HTML，难度较大且有反爬机制。

---

## 三、网站设计思路与补充

### 1. 数据结构设计

- 顶部导航按钮对应一级文件夹名称（年份）
- 每个文件夹内是若干文章文件（一般为 Markdown）
- 动态加载目录结构、文章列表及文章内容

### 2. 数据获取流程

- 页面初始化，调用 GitHub API 获取 `archive` 目录下所有一级文件夹
- 用户点击年份按钮，调用对应文件夹 API 获取文章列表
- 用户点击文章列表项，通过 `download_url` 获取文章内容

### 3. 前端展示设计

- 顶部导航栏展示文件夹（年份）按钮
- 中部文章列表区域展示对应文件夹中的文章标题
- 底部或右侧文章内容展示区，支持 Markdown 格式渲染

### 4. 交互流程

- 初次加载默认展示第一个文件夹文章列表
- 切换顶部按钮，刷新文章列表
- 选择文章，加载文章内容并渲染
- 加载状态和错误处理提示

### 5. 技术栈建议

- **前端**：React/Vue/Angular 或原生 JS
- **Markdown 渲染**： `marked.js`、`markdown-it` 等库
- **后端**（可选）：Node.js 代理缓存 GitHub API，绕开请求限制
- **纯前端**：直接访问 GitHub API，注意速率限制和跨域问题

### 6. 其他细节补充

- 目录和文章排序（按日期或名称）
- 文件名格式化作为文章标题
- 支持 URL 参数直接定位目录及文章（方便分享）
- 页面友好提示无内容或网络错误
- 可做缓存优化减少重复请求

---

## 四、示意架构图

```
+------------------------------------------+
| 顶部导航栏: 2022 | 2023 | 2024 | 2025     |
+------------------------------------------+
| 文章列表区域 (当前选中年份对应文件夹的文章) |
| - daily_report_20240101.md               |
| - daily_report_20240102.md               |
| ...                                    |
+------------------------------------------+
| 文章内容展示区 (Markdown 渲染)           |
| [文章全文内容显示]                       |
+----------------------------------